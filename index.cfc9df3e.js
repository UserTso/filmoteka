!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},n.parcelRequired7c6=a),a.register("iE7OH",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var a={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},o=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a.register("aNJCr",(function(t,n){var r;e(t.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var o={};function a(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),o[e]=t),t}})),a("iE7OH").register(JSON.parse('{"EVgbq":"index.cfc9df3e.js","baJOB":"question-mark.34d36c19.jpeg","5UbS1":"index.b28ecfd1.css","8izZZ":"index.74b49f7f.js"}'));var c=a("bpxeT"),s=a("2TvXO"),i=a("3nKWv"),l=(c=a("bpxeT"),a("hKHmD")),u=a("dDDEV"),p=(s=a("2TvXO"),a("diaKp")),d=a("jcFG7"),f=(i=a("3nKWv"),document.querySelector(".gallery-list")),v=new(0,i.default);function h(){return(h=t(c)(t(s).mark((function e(){var n,r;return t(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,p.getSpinner)(),e.prev=1,f.append(n),e.next=5,v.fetchPopularFilms();case 5:r=e.sent,(0,d.createPagination)({totalItems:r.total_results>1e4?1e4:r.total_results,page:r.page}).on("afterMove",(function(e){v.page=e.page,v.fetchPopularFilms().then((function(e){m(e.results),window.scrollTo({top:0,behavior:"smooth"})}))})),m(r.results),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0.message);case 14:return e.prev=14,n.remove(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function m(e){return b.apply(this,arguments)}!function(){h.apply(this,arguments)}();var g;function b(){return(b=t(c)(t(s).mark((function e(n){var r,o,a;return t(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.fetchGeneres();case 3:r=e.sent.genres,o=w(r),a=n.map((function(e){return"<li class='list-item'>\n      <img class='poster' src=\"".concat(null===e.poster_path?new URL(g):"https://image.tmdb.org/t/p/w500".concat(e.poster_path),'"\n  alt="').concat(e.title,'" name="').concat(e.id,"\"\n  /><h2 class='title'>").concat(e.title,"</h2>\n  <p class='info'>").concat(y(e.genre_ids,o)||"Unknown"," &#124 ").concat(e.release_date.slice(0,4)||"Unknown","</p></li>")})).join(""),f.innerHTML=a,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function y(e,t){return e.map((function(e){return t[e]||"Unknown"})).join(", ")}function w(e){return e.reduce((function(e,n){var r=n.name,o=n.id;return t(u)({},e,t(l)({},o,r))}),{})}g=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("baJOB");d=a("jcFG7"),p=a("diaKp");var _=new(0,i.default),k=document.querySelector(".search-form"),x=document.querySelector(".empty"),E=document.querySelector(".not-found");function L(){return(L=t(c)(t(s).mark((function e(n){var r,o;return t(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,p.getSpinner)(),n.preventDefault(),x.style.display="none",E.style.display="none",_.searchQuery=n.currentTarget.input.value.trim().toLowerCase(),""!==_.searchQuery){e.next=9;break}return E.style.display="none",x.style.display="block",e.abrupt("return");case 9:return e.prev=9,k.append(r),e.next=13,_.searchMovies();case 13:if(0!==(o=e.sent).results.length){e.next=18;break}return x.style.display="none",E.style.display="block",e.abrupt("return");case 18:(0,d.createPagination)({totalItems:o.total_results,page:o.page,totalPages:o.total_pages}).on("afterMove",(function(e){_.page=e.page,_.searchMovies().then((function(e){E.style.display="none",x.style.display="none",m(e.results),window.scrollTo({top:0,behavior:"smooth"})}))})),m(o.results),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(9),console.log(e.t0.message);case 26:return e.prev=26,r.remove(),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[9,23,26,29]])})))).apply(this,arguments)}k.addEventListener("submit",(function(e){return L.apply(this,arguments)})),a("7hKzD");c=a("bpxeT"),s=a("2TvXO"),i=a("3nKWv"),p=a("diaKp");var U=a("7OwLK"),O=new(0,i.default),S=document.querySelector(".gallery-list"),q=document.querySelector(".backdrop"),T=document.querySelector(".modal__contents"),H=document.querySelector(".modal__btn-close");function j(){return(j=t(c)(t(s).mark((function e(n){var r,o,a;return t(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("IMG"===n.target.nodeName){e.next=2;break}return e.abrupt("return");case 2:return r=(0,p.getSpinner)(),o=n.target.name,e.prev=4,q.append(r),e.next=8,O.fetchFilmInfo(o);case 8:return a=e.sent,q.classList.toggle("is-hidden"),e.prev=10,e.next=13,R(a);case 13:(0,U.onModalBtnClick)(a),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),console.log(e.t0.message);case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(4),console.log(e.t1.message);case 24:return e.prev=24,r.remove(),e.finish(24);case 27:document.addEventListener("keydown",K),H.addEventListener("click",M),document.addEventListener("click",F);case 30:case"end":return e.stop()}}),e,null,[[4,21,24,27],[10,16]])})))).apply(this,arguments)}function F(e){e.target===q&&(q.classList.toggle("is-hidden"),document.removeEventListener("click",F),document.removeEventListener("keydown",K))}function K(e){"Escape"===e.code&&(q.classList.toggle("is-hidden"),document.removeEventListener("keydown",K))}function M(e){q.classList.toggle("is-hidden")}function R(e){return C.apply(this,arguments)}function C(){return(C=t(c)(t(s).mark((function e(n){var r,o;return t(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.fetchGeneres();case 3:r=e.sent.genres,w(r),o='<img src="'.concat(null===n.poster_path?new URL(g):"https://image.tmdb.org/t/p/w500".concat(n.poster_path),'" alt="photo" class="modal__poster" />\n        <div>\n          <h2 class="modal__title">').concat(n.title.toUpperCase()||"Unknown",'</h2>\n          <table class="modal__info">\n            <tr>\n              <th>Vote/Votes</th>\n              <td>\n                <span class="modal__info--accent">').concat(n.vote_average||"Unknown",'</span> /\n                <span class="modal__info--noaccent">').concat(n.vote_count||"Unknown","</span>\n              </td>\n            </tr>\n            <tr>\n              <th>Popularity</th>\n              <td>").concat(n.popularity||"Unknown","</td>\n            </tr>\n            <tr>\n              <th>Original Title</th>\n              <td>").concat(n.original_title||"Unknown","</td>\n            </tr>\n            <tr>\n              <th>Genre</th>\n              <td>").concat(n.genres.map((function(e){return e.name})).join(", ")||"Unknown",'</td>\n            </tr>\n          </table>\n          <h3 class="modal__about--title">About</h3>\n          <p class="modal__about">\n            ').concat(n.overview||"Unknown",'\n          </p>\n              <div class="modal__btn">\n      <button type="button" class="modal__btn-watched">add to Watched</button>\n      <button type="button" class="modal__btn-queue">add to queue</button>\n    </div>\n\n        </div>'),T.innerHTML=o,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}S.addEventListener("click",(function(e){return j.apply(this,arguments)})),H.removeEventListener("click",M),document.removeEventListener("keydown",K),document.removeEventListener("click",F),a("jcFG7"),a("7OwLK"),a("diaKp")}();
//# sourceMappingURL=index.cfc9df3e.js.map
